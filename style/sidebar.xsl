<?xml version="1.0" encoding="UTF-8"?><xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"><xsl:variable name="cal" select="document('../calendar.xml')"/><xsl:template match="/"><div id="sidebar" class="sidebar"><div class="widget"><div class="title">广告赞助</div><div style="float:left"><script type="text/javascript">var alimama_pid="mm_10080744_272224_356175",alimama_titlecolor="0000FF",alimama_descolor ="000000",alimama_bgcolor="FFFFFF",alimama_bordercolor="E6E6E6",alimama_linkcolor="008000",alimama_bottomcolor="FFFFFF",alimama_anglesize="0",alimama_bgpic="0",alimama_icon="0",alimama_sizecode="22",alimama_width=120,alimama_height=240,alimama_type=2;</script><script src="http://a.alimama.cn/inf.js" type="text/javascript"></script></div><div style="flout:right"><script type="text/javascript">var alimama_pid="mm_10080744_272224_8104457",alimama_titlecolor="0000FF",alimama_descolor="000000",alimama_bgcolor="FFFFFF",alimama_bordercolor="E6E6E6",alimama_linkcolor="008000",alimama_bottomcolor="FFFFFF",alimama_anglesize="0",alimama_bgpic="0",alimama_icon="0",alimama_sizecode="22",alimama_width=120,alimama_height=240,alimama_type=2;</script><script src="http://a.alimama.cn/inf.js" type="text/javascript"></script></div><div class="fixed"></div></div><div class="widget"><div class="title">最近更新</div><ul><xsl:for-each select="$cal/descendant::post[position()&lt;6]"><li><a href="{@id}.xml" title="『{title}』于{datetime/@year}-{datetime/@month}-{datetime/@day} {datetime/@time}发表"><xsl:value-of select="title"/></a></li></xsl:for-each></ul><div class="fixed"></div></div><div class="widget"><div class="title">日志分类</div><xsl:variable name="cats"><xsl:for-each select="$cal/descendant::post/category"><xsl:sort select="text()" order="descending" /><xsl:text>'</xsl:text><xsl:value-of select="."/><xsl:text>',</xsl:text></xsl:for-each><xsl:text>null</xsl:text></xsl:variable><script type="text/javascript">var cats = [<xsl:value-of select="$cats"/>];<![CDATA[document.writeln("<ul>");for(var i=0;i<cats.length-1;i++)if(cats[i]!=cats[i+1])document.writeln("<li><a href=\"category.xml?"+cats[i]+"\">"+cats[i]+"</li>");document.writeln("</ul>")]]></script><div class="fixed"></div></div><div class="widget"><div class="title"><a href="mgr.xml">后台管理</a></div><div class="fixed"></div></div><div style="margin:10px;text-align:center"><script type="text/javascript" src="http://js.tongji.linezing.com/656009/tongji.js"></script></div></div></xsl:template></xsl:stylesheet>